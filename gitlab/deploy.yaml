helm upgrade --install gitlab gitlab/gitlab --namespace gitlab \
--timeout 600s \
--set global.hosts.domain=bdp.upgovcloud.org \
--set global.hosts.https=true \
--set certmanager.install=false \
--set global.ingress.configureCertmanager=false \
--set global.ingress.tls.secretName=gitlab-tls \
-f values.yaml --version 4.9.6

access_token: AEIPaaZ0w89Wzw39BDcQTc3DOAedJhY2
email: andemafac@vivsoft.io
uname: Alfred__Ndemafac
#Login to registry1.dso.mil
registry1.dso.mil
# Get credentials
user profile

#create image pull secret in gitlab namespace. It must be name 'private-registry' to match pull image secret name in values.yaml file
kubectl -n gitlab create secret docker-registry private-registry --docker-server=registry1.dso.mil/ironbank --docker-username=Alfred__Ndemafac --docker-password=AEIPaaZ0w89Wzw39BDcQTc3DOAedJhY2 --docker-email=andemafac@vivsoft.io

# Clone helm chart
git clone https://repo1.dso.mil/platform-one/big-bang/apps/developer-tools/gitlab.git

#cd gitlab
helm template ./chart #see all the resources. You can actually save in single file and do kubectl apply -f 
helm install gitlab ./chart -n gitlab # install gitlab server



helm upgrade --install gitlab gitlab/gitlab --namespace gitlab \
--timeout 600s \
--set global.hosts.domain=bdp.upgovcloud.org \
--set global.hosts.https=fals \
--set certmanager.install=false \
--set global.ingress.configureCertmanager=false \
--set global.ingress.tls.secretName=gitlab-tls \
-f values.yaml --version 4.9.6


0.1.9 deprecated

helm install ingress-nginx-2 nginx/nginx-ingress  \
--namespace ingress-nginx-2 \
--set controller.ingressClassResource.name=nginx-two \
--set controller.ingressClassResource.controllerValue="bdp.upgovcloud.org/ingress-nginx-2" \
--set controller.ingressClassResource.enabled=true \
--set controller.ingressClassByName=true